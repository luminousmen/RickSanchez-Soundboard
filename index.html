<!DOCTYPE html>
<html>
<head>
	<title>Rick's Soundboard</title>
	<link rel="stylesheet" href="pixxa.css">
</head>
<body>
	<!-- kbd is keyboard input -->

	<header>
		<h1>
			Rick's Soundboard
		</h1>
	</header>

	<div class="keys">
		<div data-key="65" class="key">
			<kbd>A</kbd>
			<span class="sound">Wubba lubba</span>
		</div>
		<div data-key="83" class="key">
			<kbd>S</kbd>
			<span class="sound">lickmyballs</span>
		</div>
		<div data-key="68" class="key">
			<kbd>D</kbd>
			<span class="sound">myman</span>
		</div>
		<div data-key="70" class="key">
			<kbd>F</kbd>
			<span class="sound">Oooo_yeah</span>
		</div>
		<div data-key="71" class="key">
			<kbd>G</kbd>
			<span class="sound">what_you_got</span>
		</div>
		<div data-key="72" class="key">
			<kbd>H</kbd>
			<span class="sound">AIDS!</span>
		</div>
		<div data-key="74" class="key">
			<kbd>J</kbd>
			<span class="sound">Mr_meeseeks</span>
		</div>
		<div data-key="75" class="key">
			<kbd>K</kbd>
			<span class="sound">Awww_Bitch</span>
		</div>
		<div data-key="76" class="key">
			<kbd>L</kbd>
			<span class="sound">tink</span>
		</div>
	</div>

    <!-- i hope one day i will not have to write all this redundant code
        it sucks 
    -->

    <audio data-key="65" src="sounds/wubbalubbadubdub.wav"></audio>
    <audio data-key="83" src="sounds/lickmyballs.wav"></audio>
    <audio data-key="68" src="sounds/myman.wav"></audio>
    <audio data-key="70" src="sounds/Oooo_yeah__caaan_doo!.wav"></audio>
    <audio data-key="71" src="sounds/I_like_what_you_got.wav"></audio>
    <audio data-key="72" src="sounds/AIDS!.wav"></audio>
    <audio data-key="74" src="sounds/Hi_I'm_mr_meeseeks_look_at_me.wav"></audio>
    <audio data-key="75" src="sounds/Awww_Bitch.wav"></audio>
    <audio data-key="76" src="sounds/tink.wav"></audio>

<!-- e is an event we captured , and keycode is one of the attribute of the event e
    every key press has it's own attribute
    check on keycode.info for more
-->

<script>

	function playSound(e){    
		const audio=document.querySelector(`audio[data-key="${e.keyCode}"]`);
            //console.log(audio);
            const key=document.querySelector(`.key[data-key="${e.keyCode}"]`);
            //console.log(key);
            if(!audio) return; //stop func from running 
            audio.currentTime=0; 
            //when played a key in succession, it will call play again even if the previous play is running
            //i.e it rewinds to the start

            audio.play();
            key.classList.add('playing');

        }


        function removeTransition(e){
                if(e.propertyName=='transform') return; //skip if it is not a transform

                //this is always the object upon which fn is called
                this.classList.remove('playing');
            }


            const keys=document.querySelectorAll('.key');
            //arrow fn which works as this keyword,i.e a sinle element of array
            keys.forEach(key => key.addEventListener('transitionend',removeTransition));

            window.addEventListener('keydown',playSound);



//when you have an array, you cant listen on every single element
//so you need to loop through each element and listen explicitly

</script>

    <!-- 
        To pass e.keycode to the query selector,
        as it is a constant
        we use ES6 template strings inside of back tick 
    -->

</body>   
<!-- developed in Vanilla JS -->
</html>

